# ✅ 実装依頼概要

`task-backend/docs/TODO.md` に従い、コード内の `// TODO` コメント箇所について、**実際のロジック実装を行ってください**。CLAUDE.mdの制約と指針に従って、コード・DB設計・テストまで一貫して対応をお願いします。

---

## 📌 実装対象

* `// TODO` コメントで示されている**未実装ロジック**
* 関連するデータベース設計（スキーマ定義含む）

---

## 🧩 実装ガイドライン

### 1. **ドメイン統合の原則**

* **既存ドメインとの重複・競合は禁止**

  * 同じ意味の別表現、似たが異なるロジック、バリエーション増加は避ける
* **「亜種」API・ドメイン定義の増加は避ける**

  * 新規定義が必要な場合は、**既存の責務・境界に統合**できるか再検討

### 2. **dead\_code ポリシー**

* `#![allow(dead_code)]` や `#[allow(dead_code)]` の**使用禁止**
* **未使用コード・シグネチャ・構造体は削除**

  * コンパイル時・Clippyで `dead_code` と判断されるものは**完全に削除**

### 3. **CI・Lint 要件**

* 以下のコマンドで **エラー・警告が完全にゼロ** であること：

  ```bash
  cargo clippy --all-targets --all-features -- -D warnings
  ```

* 既存CI（テスト）コマンド：

  ```bash
  make ci-check
  ```

  → **すべてのテストにパスすること（新旧含む）**

---

## 🧪 テスト要件

### 単体テスト（Unit Test）

* **新規ロジックに対する細粒度のテストを実装**

  * 条件分岐、バリデーション、エラーケースなどを網羅
  * 概念テスト・型だけのテストは不可

### 統合テスト（Integration Test）

* APIレベルでの**E2Eフロー確認**

  * リクエスト／レスポンス構造の妥当性
  * DB書き込み・読み出しの整合性
  * エラーハンドリングの検証

---

## 🔥 クリーンアップ方針

* **使用されていないコード**は積極的に削除

  * dead\_code で検知される全要素（関数・enum・構造体・traitなど）を対象に
* 「将来使うかも」等の理由での残置は禁止

  * 現時点で使われていないものは削除（必要なら今後のPRで再追加）
